/* Figma 全局样式（响应式、一致性） */
:root {
  --bg-start: #2a7df7;
  --bg-end: #2fd2a4;
  --primary: #2a7df7;
  --primary-600: #2563eb;
  --accent: #27c89e;
  --blue-50: #eff6ff;
  --blue-100: #dbeafe;
  --blue-200: #bfdbfe;
  --green-50: #ecfdf5;
  --green-100: #d1fae5;
  --zinc-50: #fafafa;
  --zinc-100: #f4f4f5;
  --zinc-200: #e4e4e7;
  --zinc-300: #d4d4d8;
  --zinc-400: #a1a1aa;
  --zinc-600: #52525b;
  --zinc-800: #27272a;
  --white: #ffffff;
  /* BottomNav 设计色 */
  --nav-active: #00BC7D; /* 设计稿：激活绿色 */
  --nav-inactive: #4A5565; /* 设计稿：未激活灰色 */
}

* { box-sizing: border-box; }
html, body { height: 100%; }
body {
  margin: 0;
  font-family: ui-sans-serif, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Microsoft YaHei", "PingFang SC", sans-serif;
  color: var(--zinc-800);
  background: linear-gradient(180deg, var(--bg-start), var(--bg-end));
  font-size: clamp(14px, 2.2vw, 16px);
  line-height: 1.55;
}
/* 字体基准：按 Figma 画板 448px 对齐 */
@media (max-width: 360px) { body { font-size: 14px; } }
@media (min-width: 361px) and (max-width: 447px) { body { font-size: 15px; } }
@media (min-width: 448px) { body { font-size: 16px; } }

.app {
  min-height: 100vh;
  display: flex;
  flex-direction: column;
}

.container {
  width: 100%;
  max-width: 1048px; /* 设计稿宽度 */
  margin: 0 auto;
  padding: 16px;
}

/* 移动端画板（Figma 448px）专用窄容器：用于 *-figma.html 页面严格对齐 */
.container.narrow { max-width: 448px; }

/* 顶部栏 */
.topbar {
  position: sticky;
  top: 0;
  z-index: 20;
  background: var(--white);
  border-bottom: 1px solid var(--zinc-200);
  height: 56px;
}
.topbar-inner {
  display: flex;
  align-items: center;
  justify-content: space-between;
  max-width: 1048px;
  margin: 0 auto;
  padding: 10px 12px;
}
.icon-btn {
  width: 36px; height: 36px;
  border-radius: 10px;
  border: 1px solid var(--zinc-200);
  background: var(--white);
  display: inline-flex; align-items: center; justify-content: center;
  color: var(--zinc-600);
}
.title { font-size: clamp(16px, 3.8vw, 20px); font-weight: 700; letter-spacing: .2px; }

/* 卡片与阴影 */
.card {
  background: var(--white);
  border-radius: 16px;
  box-shadow: 0 6px 14px rgba(0,0,0,0.06);
  border: 1px solid var(--zinc-200);
}
.card.padded { padding: 14px; }

/* 渐变横幅 */
.hero {
  color: var(--white);
  border-radius: 20px;
  padding: 20px;
  background: linear-gradient(90deg, var(--accent), var(--primary));
  position: relative;
}
.hero .center { display:flex; align-items:center; justify-content:center; }

/* 进度条 */
.progress {
  height: 10px;
  border-radius: 999px;
  background: var(--zinc-200);
  overflow: hidden;
}
.progress .fill { height: 100%; background: var(--primary); border-radius: 999px; width: 40%; }

/* 标签胶囊 */
.pill { display:inline-flex; gap:6px; align-items:center; padding:6px 12px; border-radius:999px; border:1px solid var(--zinc-300); color:var(--zinc-600); background: var(--zinc-50); font-size:12px; }

/* 上传区域 */
.upload {
  border: 3px solid var(--primary);
  border-radius: 18px;
  /* 默认响应式尺寸：16:9，可被脚本动态调整为视频比例 */
  height: auto;
  min-height: 240px;
  aspect-ratio: 16/9;
  max-height: 72vh;
  display: flex; align-items:center; justify-content:center;
  color: var(--primary);
  background: linear-gradient(180deg, var(--blue-50), var(--green-50));
  overflow: hidden; /* 确保视频不突出圆角边框 */
}
/* 确保视频完全填充容器且不留白/不突出 */
.upload > video {
  display: block;
  width: 100%;
  height: 100%;
  object-fit: contain; /* 容器比例会与视频一致，因此不会出现留白 */
  border-radius: inherit;
}

/* 按钮 */
.btn { border: none; border-radius: 12px; padding: 12px 16px; font-size: 14px; cursor: pointer; }
.btn-outline { border: 2px solid var(--zinc-300); background: var(--white); color: var(--zinc-800); }
.btn-primary { background: var(--primary-600); color: var(--white); }
.btn-wide { width: 100%; }

/* 输入框组（登录页） */
.input-card { background: var(--white); border-radius: 18px; box-shadow: 0 8px 20px rgba(0,0,0,0.08); padding: 16px; border:1px solid var(--zinc-200); }
.input { width: 100%; border: none; outline: none; padding: 12px 0; font-size: 14px; }
.input + .divider { height:1px; background: var(--zinc-200); }

/* 底部导航（严格还原 Figma BottomNav + 圆角图标背景） */
.tabbar {
  position: sticky; bottom: 0; z-index: 10;
  background: var(--white);
  border-top: 1px solid var(--zinc-200);
  height: 64px; /* 还原原高度，避免遮挡文字 */
}
.tabbar-inner { max-width: 1048px; margin: 0 auto; display:grid; grid-template-columns: repeat(5, 1fr); }
.tab {
  position: relative;
  display:flex; flex-direction:column; align-items:center; justify-content:center;
  gap: 4px; /* 还原原间距 */
  padding: 8px 0;
  color: var(--nav-inactive);
  text-decoration: none;
}
/* 移除图标圆角背景，避免与标签重叠遮挡 */
.tab::before{ content: none !important; display: none !important; }
.tab.active::before{ display: none !important; }
.tab .icon { font-size: 20px; line-height: 24px; position:relative; }
.tab .icon img { width: 24px; height: 24px; display: block; }
.tab .label { font-size: 12px; font-weight: 600; letter-spacing: .15px; }
.tab.active .label { color: var(--nav-active); }
/* 成就红点（通知）位置还原 */
.tab[data-dot="true"]::after {
  content: "";
  position: absolute;
  top: 6px;
  right: calc(50% - 12px);
  width: 8px; height: 8px;
  border-radius: 999px;
  background: #FB2C36;
}

/* 统一 legacy bottom-nav 的图标与标签样式（首页/分析页使用） */
.bottom-nav { position: sticky; bottom: 0; z-index: 10; background: var(--white); border-top: 1px solid var(--zinc-200); height: 64px; }
.bottom-nav .nav-inner { max-width: 1048px; margin: 0 auto; display:grid; grid-template-columns: repeat(5, 1fr); }
.bottom-nav .nav-item { display:flex; flex-direction:column; align-items:center; justify-content:center; gap: 4px; padding: 8px 0; text-decoration:none; color: var(--nav-inactive); }
.bottom-nav .nav-icon img { width: 24px; height: 24px; display:block; }
.bottom-nav .nav-label { font-size: 12px; font-weight: 600; letter-spacing: .15px; }
.bottom-nav .nav-item.active .nav-label { color: var(--nav-active); }
/* 列表与记录项 */
.list { display: grid; gap: 12px; }
.item { display:flex; align-items:center; justify-content:space-between; padding: 12px; border-radius: 10px; border:1px solid var(--zinc-200); background: var(--white); }

/* "高瘦"窄体文本（用于“次数/秒数”等标签） */
#recordList .item > div:last-child,
#count,
#cadence,
#duration {
  font-family: 'Roboto Condensed', DengXian, 'Noto Sans SC', 'Microsoft YaHei', 'PingFang SC', 'Segoe UI', 'Helvetica Neue', Arial, sans-serif;
  font-weight: 600;
  letter-spacing: -0.5px;
  display: inline-block;
  transform: scaleX(0.88) scaleY(1.08);
  transform-origin: left center;
}
/* 覆盖累计跳绳次数的高度：保持原高度，仅收窄宽度 */
#sumCount {
  transform: scaleX(0.88) scaleY(1);
  transform-origin: left center;
  display: inline-block;
}

/* 针对“节奏”数值的专属缩放：更窄且不拉高 */
#cadence {
  transform: scaleX(0.70) scaleY(1);
  transform-origin: left center;
  letter-spacing: 0;
}

/* 小屏下：分析结果卡片单列，避免挤压导致数值不显示 */
@media (max-width: 480px) {
  #result > div { grid-template-columns: minmax(0,1fr) minmax(0,1fr); }
}
@media (max-width: 560px) {
  #result > div { grid-template-columns: 1fr !important; }
}

/* 响应式断点 */
/* Breakpoints: 320 / 375 / 768 / 1024 */
@media (max-width: 640px) {
  .container { padding: 12px; }
  .hero { padding: 18px; }
  .card.padded { padding: 12px; }
  .topbar-inner { padding: 8px 12px; }
}
@media (min-width: 768px) and (max-width: 1023px) {
  .card.padded { padding: 16px; }
  .hero { padding: 22px; }
}
@media (min-width: 1024px) {
  .card.padded { padding: 18px; }
}